FUNCTION_BLOCK "LEXCHANGETRAY_U2Em4SingleTM"
TITLE = EXCHANGETRAY_U2Em4SingleTM
{ S7_Optimized_Access := 'TRUE' ; Published := 'TRUE' }
AUTHOR : 'SUP/Zhang Shi Long'
FAMILY : SUP
VERSION : 0.1
//Exchange Tray function
   VAR_INPUT 
      GripperCylinderHomePositionDetectionU2EM4_1 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Gripper cylinder home position detection sensor 1 for U2EM4
      gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Small cell gripper cylinder work position detection sensor 2 for U2EM4
      withOrWithoutCellDetectionU2EM4_2 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Cell presence detection sensor 2 for U2EM4
      GripperCylinderHomePositionDetectionU2EM4_3 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Gripper cylinder home position detection sensor 3 for U2EM4
      yaxlEmotorOrgU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Y-axis motor origin sensor for U2EM4
      yaxlEmotorPotU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Y-axis motor positive limit sensor for U2EM4
      gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Small cell gripper cylinder work position detection sensor 4 for U2EM4
      handlingCollisionAvoidance2U2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Handling collision avoidance sensor 2 for U2EM4
      gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Small cell gripper cylinder work position detection sensor 3 for U2EM4
      gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Big cell gripper cylinder work position detection sensor 3 for U2EM4
      gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Big cell gripper cylinder work position detection sensor 2 for U2EM4
      gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Big cell gripper cylinder work position detection sensor 1 for U2EM4
      xaxlEmotorPotU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // X-axis motor positive limit sensor for U2EM4
      zaxlEmotorNotU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Z-axis motor negative limit sensor for U2EM4
      cellFoolproof4U2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Cell foolproof sensor 4 for U2EM4
      withOrWithoutCellDetectionU2EM4_3 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Cell presence detection sensor 3 for U2EM4
      cellFoolproof1U2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Cell foolproof sensor 1 for U2EM4
      xaxlEmotorOrgU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // X-axis motor origin sensor for U2EM4
      GripperCylinderHomePositionDetectionU2EM4_2 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Gripper cylinder home position detection sensor 2 for U2EM4
      xaxlEmotorNotU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // X-axis motor negative limit sensor for U2EM4
      handlingCollisionAvoidance4U2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Handling collision avoidance sensor 4 for U2EM4
      handlingCollisionAvoidance3U2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Handling collision avoidance sensor 3 for U2EM4
      zaxlEmotorPotU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Z-axis motor positive limit sensor for U2EM4
      cellFoolproof3U2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Cell foolproof sensor 3 for U2EM4
      zaxlEmotorOrgU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Z-axis motor origin sensor for U2EM4
      yaxlEmotorNotU2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Y-axis motor negative limit sensor for U2EM4
      handlingCollisionAvoidance1U2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Handling collision avoidance sensor 1 for U2EM4
      cellFoolproof2U2EM4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Cell foolproof sensor 2 for U2EM4
      gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Small cell gripper cylinder work position detection sensor 1 for U2EM4
      withOrWithoutCellDetectionU2EM4_4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Cell presence detection sensor 4 for U2EM4
      gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Big cell gripper cylinder work position detection sensor 4 for U2EM4
      GripperCylinderHomePositionDetectionU2EM4_4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Gripper cylinder home position detection sensor 4 for U2EM4
      withOrWithoutCellDetectionU2EM4_1 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : Bool;   // Cell presence detection sensor 1 for U2EM4
   END_VAR

   VAR_IN_OUT 
      configuration : "LEXCHANGETRAY_typeHandlingXyzIoSignalConfigeration";   // Configuration parameters for U2EM4 module
      moduleInterface : "LEXCHANGETRAY_typeHandlingXyzIoSignalInterface";   // Module interface for U2EM4 control
      controlNode : "LEXCHANGETRAY_typeHandlingXyzIoSignalControlNode";   // Control node parameters for U2EM4
   END_VAR

   VAR 
      statManualCommands { S7_SetPoint := 'False'} : "LEXCHANGETRAY_typeHandlingXyzIoSignalManualCommands";   // Manual commands execution status
      statProcessValues { S7_SetPoint := 'False'} : "LEXCHANGETRAY_typeHandlingXyzIoSignalProcessValues";   // Process values monitoring status
      statDiagnostics : "LBC_typeDiagnostics";   // Diagnostics information status
      statSimActive : Bool;   // Simulation mode active status
      statSimActivePrevious : Bool;   // Previous simulation mode status
      statFbState : Word;   // Current function block state
      statFbStatePrevious : Word;   // Previous function block state
   END_VAR

   VAR_TEMP 
      tempSimActiveEdge : Bool;
   END_VAR


BEGIN
	REGION BLOCK INFO HEADER
	    //===============================================================================
	    // Siemens / (c)Copyright 2020-2024
	    //-------------------------------------------------------------------------------
	    // Title:            XYZ Handling Simulation Signal Processing Module
	    // 标题:             XYZ机械手模拟信号处理模块
	    // Comment/Function: This module processes input signals related to XYZ Handling simulation, 
	    //                    maps input sources based on simulation activation status, 
	    //                    resets relevant signals, and outputs processed data.
	    // 注释/功能:        此模块处理与 XYZ机械手模拟相关的输入信号，
	    //                    根据模拟激活状态映射不同输入源，
	    //                    重置相关信号，并输出处理后的数据。
	    // Library/Family:   EXCHANGETRAY - Library of Basic
	    // 库/家族:         换盘机 - 基本控制模块库
	    // Author:           Siemens Digital Industries
	    // 作者:            西门子数字工业
	    // Tested with:      S7-PLCSIM Advanced 6.0
	    // 测试环境:        S7-PLCSIM Advanced 6.0
	    // Engineering:      TIA Portal V19
	    // 工程环境:        TIA Portal V19
	    // Restrictions:     ENO mechanism is not used - forced to TRUE.
	    // 限制条件:        不使用 ENO 机制 - 强制设置为 TRUE。
	    // Requirements:     PLC (S7-1200 / S7-1500)
	    // 要求:            PLC (S7-1200 / S7-1500)
	    //-------------------------------------------------------------------------------
	    // Change log table:
	    // Version  | Date       | Expert in charge        | Changes applied
	    //----------|------------|-------------------------|-----------------------------
	    // 01.00.00 | 17.04.2025 | SIMATIC Systems Support | Updated block info and comments following AIupdate.scl style.
	    // 版本     | 日期       | 负责人                  | 更改内容
	    //----------|------------|-------------------------|-----------------------------
	    // 01.00.00 | 2025年4月17日 | SIMATIC系统支持        | 参照 LBC 风格更新块信息和注释。
	    //===============================================================================
	END_REGION BLOCK INFO HEADER
	
	REGION DESCRIPTION
	    (/*
	    This module processes input signals related to the XYZ Handling simulation. 
	    It checks whether the simulation mode is active based on the configuration. 
	    When the simulation is active, it combines the manual commands and real input signals; 
	    otherwise, it directly uses the real input signals. 
	    Additionally, it resets relevant manual commands when the simulation is inactive 
	    and finally outputs the processed data to the module interface and control node.
	    此模块处理与 XYZ机械手模拟相关的输入信号。
	    它根据配置检查模拟模式是否激活。
	    当模拟激活时，它将手动命令和真实输入信号进行组合；
	    否则，它直接使用真实输入信号。
	    此外，当模拟未激活时，它会重置相关的手动命令，
	    最后将处理后的数据输出到模块接口和控制节点。
	    */)
	END_REGION DESCRIPTION
	
	REGION INITIALISATION  
	    // Reset relevant manual commands when the simulation is inactive
	    // 模拟未激活时，重置相关的手动命令
	    IF NOT #statSimActive OR (#controlNode.reset) THEN
	        #controlNode.reset := FALSE;
	        // 重置所有手动命令标志位
	        #statManualCommands.GripperCylinderHomePositionDetectionU2EM4_1 := FALSE;
	        #statManualCommands.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2 := FALSE;
	        #statManualCommands.withOrWithoutCellDetectionU2EM4_2 := FALSE;
	        #statManualCommands.GripperCylinderHomePositionDetectionU2EM4_3 := FALSE;
	        #statManualCommands.yaxlEmotorOrgU2EM4 := FALSE;
	        #statManualCommands.yaxlEmotorPotU2EM4 := FALSE;
	        #statManualCommands.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4 := FALSE;
	        #statManualCommands.handlingCollisionAvoidance2U2EM4 := FALSE;
	        #statManualCommands.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3 := FALSE;
	        #statManualCommands.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3 := FALSE;
	        #statManualCommands.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2 := FALSE;
	        #statManualCommands.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1 := FALSE;
	        #statManualCommands.xaxlEmotorPotU2EM4 := FALSE;
	        #statManualCommands.zaxlEmotorNotU2EM4 := FALSE;
	        #statManualCommands.cellFoolproof4U2EM4 := FALSE;
	        #statManualCommands.withOrWithoutCellDetectionU2EM4_3 := FALSE;
	        #statManualCommands.cellFoolproof1U2EM4 := FALSE;
	        #statManualCommands.xaxlEmotorOrgU2EM4 := FALSE;
	        #statManualCommands.GripperCylinderHomePositionDetectionU2EM4_2 := FALSE;
	        #statManualCommands.xaxlEmotorNotU2EM4 := FALSE;
	        #statManualCommands.handlingCollisionAvoidance4U2EM4 := FALSE;
	        #statManualCommands.handlingCollisionAvoidance3U2EM4 := FALSE;
	        #statManualCommands.zaxlEmotorPotU2EM4 := FALSE;
	        #statManualCommands.cellFoolproof3U2EM4 := FALSE;
	        #statManualCommands.zaxlEmotorOrgU2EM4 := FALSE;
	        #statManualCommands.yaxlEmotorNotU2EM4 := FALSE;
	        #statManualCommands.handlingCollisionAvoidance1U2EM4 := FALSE;
	        #statManualCommands.cellFoolproof2U2EM4 := FALSE;
	        #statManualCommands.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1 := FALSE;
	        #statManualCommands.withOrWithoutCellDetectionU2EM4_4 := FALSE;
	        #statManualCommands.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4 := FALSE;
	        #statManualCommands.GripperCylinderHomePositionDetectionU2EM4_4 := FALSE;
	        #statManualCommands.withOrWithoutCellDetectionU2EM4_1 := FALSE;
	    END_IF;
	END_REGION INITIALISATION  
	
	REGION PROGRAM LOGIC
	    REGION PROCESS INPUT SIGNALS
	        REGION Input configuration parameter
	            // Assign simulation activation status from configuration to static variable
	            // 将配置中的模拟激活状态赋值给静态变量
	            #statSimActive := #configuration.simActive;
	        END_REGION Input configuration parameter
	        
	        // Map commands from module interface to manual commands
	        // 将模块接口的命令映射到手动命令
	        #statManualCommands := #moduleInterface.commands;
	        
	        // Map input signals based on simulation activation status
	        // 根据模拟激活状态映射输入信号
	        IF #statSimActive THEN
	            // Combine manual commands and real input signals when simulation is active
	            // 模拟激活时，组合手动命令和真实输入信号
	            #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_1 := #statManualCommands.GripperCylinderHomePositionDetectionU2EM4_1 OR #GripperCylinderHomePositionDetectionU2EM4_1;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2 := #statManualCommands.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2 OR #gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2;
	            #statProcessValues.withOrWithoutCellDetectionU2EM4_2 := #statManualCommands.withOrWithoutCellDetectionU2EM4_2 OR #withOrWithoutCellDetectionU2EM4_2;
	            #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_3 := #statManualCommands.GripperCylinderHomePositionDetectionU2EM4_3 OR #GripperCylinderHomePositionDetectionU2EM4_3;
	            #statProcessValues.yaxlEmotorOrgU2EM4 := #statManualCommands.yaxlEmotorOrgU2EM4 OR #yaxlEmotorOrgU2EM4;
	            #statProcessValues.yaxlEmotorPotU2EM4 := #statManualCommands.yaxlEmotorPotU2EM4 OR #yaxlEmotorPotU2EM4;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4 := #statManualCommands.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4 OR #gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4;
	            #statProcessValues.handlingCollisionAvoidance2U2EM4 := #statManualCommands.handlingCollisionAvoidance2U2EM4 OR #handlingCollisionAvoidance2U2EM4;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3 := #statManualCommands.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3 OR #gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3 := #statManualCommands.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3 OR #gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2 := #statManualCommands.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2 OR #gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1 := #statManualCommands.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1 OR #gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1;
	            #statProcessValues.xaxlEmotorPotU2EM4 := #statManualCommands.xaxlEmotorPotU2EM4 OR #xaxlEmotorPotU2EM4;
	            #statProcessValues.zaxlEmotorNotU2EM4 := #statManualCommands.zaxlEmotorNotU2EM4 OR #zaxlEmotorNotU2EM4;
	            #statProcessValues.cellFoolproof4U2EM4 := #statManualCommands.cellFoolproof4U2EM4 OR #cellFoolproof4U2EM4;
	            #statProcessValues.withOrWithoutCellDetectionU2EM4_3 := #statManualCommands.withOrWithoutCellDetectionU2EM4_3 OR #withOrWithoutCellDetectionU2EM4_3;
	            #statProcessValues.cellFoolproof1U2EM4 := #statManualCommands.cellFoolproof1U2EM4 OR #cellFoolproof1U2EM4;
	            #statProcessValues.xaxlEmotorOrgU2EM4 := #statManualCommands.xaxlEmotorOrgU2EM4 OR #xaxlEmotorOrgU2EM4;
	            #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_2 := #statManualCommands.GripperCylinderHomePositionDetectionU2EM4_2 OR #GripperCylinderHomePositionDetectionU2EM4_2;
	            #statProcessValues.xaxlEmotorNotU2EM4 := #statManualCommands.xaxlEmotorNotU2EM4 OR #xaxlEmotorNotU2EM4;
	            #statProcessValues.handlingCollisionAvoidance4U2EM4 := #statManualCommands.handlingCollisionAvoidance4U2EM4 OR #handlingCollisionAvoidance4U2EM4;
	            #statProcessValues.handlingCollisionAvoidance3U2EM4 := #statManualCommands.handlingCollisionAvoidance3U2EM4 OR #handlingCollisionAvoidance3U2EM4;
	            #statProcessValues.zaxlEmotorPotU2EM4 := #statManualCommands.zaxlEmotorPotU2EM4 OR #zaxlEmotorPotU2EM4;
	            #statProcessValues.cellFoolproof3U2EM4 := #statManualCommands.cellFoolproof3U2EM4 OR #cellFoolproof3U2EM4;
	            #statProcessValues.zaxlEmotorOrgU2EM4 := #statManualCommands.zaxlEmotorOrgU2EM4 OR #zaxlEmotorOrgU2EM4;
	            #statProcessValues.yaxlEmotorNotU2EM4 := #statManualCommands.yaxlEmotorNotU2EM4 OR #yaxlEmotorNotU2EM4;
	            #statProcessValues.handlingCollisionAvoidance1U2EM4 := #statManualCommands.handlingCollisionAvoidance1U2EM4 OR #handlingCollisionAvoidance1U2EM4;
	            #statProcessValues.cellFoolproof2U2EM4 := #statManualCommands.cellFoolproof2U2EM4 OR #cellFoolproof2U2EM4;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1 := #statManualCommands.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1 OR #gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1;
	            #statProcessValues.withOrWithoutCellDetectionU2EM4_4 := #statManualCommands.withOrWithoutCellDetectionU2EM4_4 OR #withOrWithoutCellDetectionU2EM4_4;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4 := #statManualCommands.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4 OR #gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4;
	            #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_4 := #statManualCommands.GripperCylinderHomePositionDetectionU2EM4_4 OR #GripperCylinderHomePositionDetectionU2EM4_4;
	            #statProcessValues.withOrWithoutCellDetectionU2EM4_1 := #statManualCommands.withOrWithoutCellDetectionU2EM4_1 OR #withOrWithoutCellDetectionU2EM4_1;
	        ELSE
	            // Use real input signals directly when simulation is inactive
	            // 模拟未激活时，直接使用真实输入信号
	            #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_1 := #GripperCylinderHomePositionDetectionU2EM4_1;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2 := #gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2;
	            #statProcessValues.withOrWithoutCellDetectionU2EM4_2 := #withOrWithoutCellDetectionU2EM4_2;
	            #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_3 := #GripperCylinderHomePositionDetectionU2EM4_3;
	            #statProcessValues.yaxlEmotorOrgU2EM4 := #yaxlEmotorOrgU2EM4;
	            #statProcessValues.yaxlEmotorPotU2EM4 := #yaxlEmotorPotU2EM4;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4 := #gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4;
	            #statProcessValues.handlingCollisionAvoidance2U2EM4 := #handlingCollisionAvoidance2U2EM4;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3 := #gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3 := #gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2 := #gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1 := #gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1;
	            #statProcessValues.xaxlEmotorPotU2EM4 := #xaxlEmotorPotU2EM4;
	            #statProcessValues.zaxlEmotorNotU2EM4 := #zaxlEmotorNotU2EM4;
	            #statProcessValues.cellFoolproof4U2EM4 := #cellFoolproof4U2EM4;
	            #statProcessValues.withOrWithoutCellDetectionU2EM4_3 := #withOrWithoutCellDetectionU2EM4_3;
	            #statProcessValues.cellFoolproof1U2EM4 := #cellFoolproof1U2EM4;
	            #statProcessValues.xaxlEmotorOrgU2EM4 := #xaxlEmotorOrgU2EM4;
	            #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_2 := #GripperCylinderHomePositionDetectionU2EM4_2;
	            #statProcessValues.xaxlEmotorNotU2EM4 := #xaxlEmotorNotU2EM4;
	            #statProcessValues.handlingCollisionAvoidance4U2EM4 := #handlingCollisionAvoidance4U2EM4;
	            #statProcessValues.handlingCollisionAvoidance3U2EM4 := #handlingCollisionAvoidance3U2EM4;
	            #statProcessValues.zaxlEmotorPotU2EM4 := #zaxlEmotorPotU2EM4;
	            #statProcessValues.cellFoolproof3U2EM4 := #cellFoolproof3U2EM4;
	            #statProcessValues.zaxlEmotorOrgU2EM4 := #zaxlEmotorOrgU2EM4;
	            #statProcessValues.yaxlEmotorNotU2EM4 := #yaxlEmotorNotU2EM4;
	            #statProcessValues.handlingCollisionAvoidance1U2EM4 := #handlingCollisionAvoidance1U2EM4;
	            #statProcessValues.cellFoolproof2U2EM4 := #cellFoolproof2U2EM4;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1 := #gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1;
	            #statProcessValues.withOrWithoutCellDetectionU2EM4_4 := #withOrWithoutCellDetectionU2EM4_4;
	            #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4 := #gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4;
	            #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_4 := #GripperCylinderHomePositionDetectionU2EM4_4;
	            #statProcessValues.withOrWithoutCellDetectionU2EM4_1 := #withOrWithoutCellDetectionU2EM4_1;
	        END_IF;
	        
	        REGION SIMULATE MODE
	            // Simulation mode logic can be added here
	            // 模拟模式逻辑可在此处添加
	        END_REGION SIMULATE MODE
	        
	        REGION Interlock dependent edge commands
	            // Detect the rising edge of the simulation activation signal
	            // 检测模拟激活信号的上升沿
	            #tempSimActiveEdge := #statSimActive AND NOT #statSimActivePrevious;
	        END_REGION Interlock dependent edge commands
	    END_REGION PROCESS INPUT SIGNALS
	END_REGION PROGRAM LOGIC
	
	REGION OUTPUTS
	    // Assign simulation activation status to monitoring structure
	    // 将模拟激活状态赋值给监控结构
	    #statProcessValues.simulated := #statSimActive;
	    
	    // Write manual commands to module interface
	    // 将手动命令写入模块接口
	    #moduleInterface.commands := #statManualCommands;
	    
	    // Write process values to module interface monitoring
	    // 将过程值写入模块接口监控
	    #moduleInterface.monitoring := #statProcessValues;
	    
	    // Write simulation status and processed signals to control node monitoring
	    // 将模拟状态和处理后的信号写入控制节点监控
	    #controlNode.monitoring.simulated := #statProcessValues.simulated;
	    #controlNode.monitoring.GripperCylinderHomePositionDetectionU2EM4_1 := #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_1;
	    #controlNode.monitoring.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2 := #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_2;
	    #controlNode.monitoring.withOrWithoutCellDetectionU2EM4_2 := #statProcessValues.withOrWithoutCellDetectionU2EM4_2;
	    #controlNode.monitoring.GripperCylinderHomePositionDetectionU2EM4_3 := #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_3;
	    #controlNode.monitoring.yaxlEmotorOrgU2EM4 := #statProcessValues.yaxlEmotorOrgU2EM4;
	    #controlNode.monitoring.yaxlEmotorPotU2EM4 := #statProcessValues.yaxlEmotorPotU2EM4;
	    #controlNode.monitoring.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4 := #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_4;
	    #controlNode.monitoring.handlingCollisionAvoidance2U2EM4 := #statProcessValues.handlingCollisionAvoidance2U2EM4;
	    #controlNode.monitoring.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3 := #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_3;
	    #controlNode.monitoring.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3 := #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_3;
	    #controlNode.monitoring.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2 := #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_2;
	    #controlNode.monitoring.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1 := #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_1;
	    #controlNode.monitoring.xaxlEmotorPotU2EM4 := #statProcessValues.xaxlEmotorPotU2EM4;
	    #controlNode.monitoring.zaxlEmotorNotU2EM4 := #statProcessValues.zaxlEmotorNotU2EM4;
	    #controlNode.monitoring.cellFoolproof4U2EM4 := #statProcessValues.cellFoolproof4U2EM4;
	    #controlNode.monitoring.withOrWithoutCellDetectionU2EM4_3 := #statProcessValues.withOrWithoutCellDetectionU2EM4_3;
	    #controlNode.monitoring.cellFoolproof1U2EM4 := #statProcessValues.cellFoolproof1U2EM4;
	    #controlNode.monitoring.xaxlEmotorOrgU2EM4 := #statProcessValues.xaxlEmotorOrgU2EM4;
	    #controlNode.monitoring.GripperCylinderHomePositionDetectionU2EM4_2 := #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_2;
	    #controlNode.monitoring.xaxlEmotorNotU2EM4 := #statProcessValues.xaxlEmotorNotU2EM4;
	    #controlNode.monitoring.handlingCollisionAvoidance4U2EM4 := #statProcessValues.handlingCollisionAvoidance4U2EM4;
	    #controlNode.monitoring.handlingCollisionAvoidance3U2EM4 := #statProcessValues.handlingCollisionAvoidance3U2EM4;
	    #controlNode.monitoring.zaxlEmotorPotU2EM4 := #statProcessValues.zaxlEmotorPotU2EM4;
	    #controlNode.monitoring.cellFoolproof3U2EM4 := #statProcessValues.cellFoolproof3U2EM4;
	    #controlNode.monitoring.zaxlEmotorOrgU2EM4 := #statProcessValues.zaxlEmotorOrgU2EM4;
	    #controlNode.monitoring.yaxlEmotorNotU2EM4 := #statProcessValues.yaxlEmotorNotU2EM4;
	    #controlNode.monitoring.handlingCollisionAvoidance1U2EM4 := #statProcessValues.handlingCollisionAvoidance1U2EM4;
	    #controlNode.monitoring.cellFoolproof2U2EM4 := #statProcessValues.cellFoolproof2U2EM4;
	    #controlNode.monitoring.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1 := #statProcessValues.gripperCylinderWorkPositionDetectionOfSmallCellU2EM4_1;
	    #controlNode.monitoring.withOrWithoutCellDetectionU2EM4_4 := #statProcessValues.withOrWithoutCellDetectionU2EM4_4;
	    #controlNode.monitoring.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4 := #statProcessValues.gripperCylinderWorkPositionDetectionOfBigCellU2EM4_4;
	    #controlNode.monitoring.GripperCylinderHomePositionDetectionU2EM4_4 := #statProcessValues.GripperCylinderHomePositionDetectionU2EM4_4;
	    #controlNode.monitoring.withOrWithoutCellDetectionU2EM4_1 := #statProcessValues.withOrWithoutCellDetectionU2EM4_1;
	    
	    // ENO mechanism disabled, ENO - forced to TRUE
	    // ENO 机制禁用，强制设置为 TRUE
	    ENO := TRUE;
	    
	    // Save previous value of simulation activation signal for edge detection
	    // 保存模拟激活信号的上一个值用于边沿检测
	    #statSimActivePrevious := #statSimActive;
	END_REGION OUTPUTS
END_FUNCTION_BLOCK

